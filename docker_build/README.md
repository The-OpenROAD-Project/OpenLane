# Build Instructions

The goal of these instructions is to build a single image that contains all the tools used by openlane.
This is done through two stages.

1. Building
2. Merging

### Note

The repo already provides a snapshot of the tarballs which are generated by going through step 1, so you can jump to 2 if you wish to save time building the tools.

## Building

The following make target iteratively builds each tool in a separate docker image (i.e. one docker image per tool). Then we export the binaries generated by each tool's image to tarballs in `tar` directory.

```bash
make build-all
```

## Merging

Finally, we merge all the tools in a single docker image.

```bash
make merge
```

## Additional information

### Building and exporting a specific tool

You can choose to build and export a specific tool by running:

```bash
make build-<tool>
```

The following are the available tools:

```bash
klayout replace opendp route cugr drcu opensta yosys antmicro_yosys magic openroad_app padring netgen vlogtoverilog openphysyn cvc
```

### Rebuilding
Following that, go through steps 1 and 2 to generate and update docker image.

```bash
make build-all DOCKER_BUILD_OPTS=--no-cache

make merge
```

This should you remove the existing tarballs. Then, build and export specific tool(s).
